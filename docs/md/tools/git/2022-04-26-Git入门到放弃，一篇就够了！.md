# 入门到放弃，一篇就够了！

## 实操之本地仓库篇
### 初始化并创建版本库
初始化仓库，选择一个自己喜欢的目录并进入，接着在 Git Bash Here(鼠标右键打开) 命令行中执行 `git init` 。
```bash
$ git init
```
然后接着在命令行中执行 `ls -a` 或者 `ls -la` 命令，会看到文件夹中多出一个 `.git` 的文件夹，这说明版本库创建成功。

### 将文件添加到暂存区
要将一个文件纳入到版本库管理类，首先要将文件添加到暂存区，然后才能提交到版本库中。使用的命令是 `git add`。
```bash
$ git add [file1] [file2] [file3] ... # 添加一个或多个文件到暂存区
$ git add [dir] # 添加指定目录到暂存区，包括子目录
$ git add . # 添加当前目录下的所有文件到暂存区(.gitignore 被忽略的文件除外)
```
测试
```bash
# 步骤1 创建测试文件
$ touch hello.md
$ touch hi.java

# 步骤2
$ git status -s 
?? hello.md
?? hi.java

# 步骤3
$ git add hello.md hi.java
$ git status -s 
A hello.md
A hi.java

# 步骤4
$ vim hello.md # 添加内容为: Git 测试
$ git status -s
AM hello.md
A  hi.java

# 步骤5
$ git add hello.md
$ git status -s 
A hello.md
A hi.java

```
`git status` 命令用于查看项目的当前状态，`??` 表示没有被添加到暂存区中的，`A` 表示已经成功被添加到暂存区中的。`AM` 表示这个文件
在添加到暂存区(缓存)之后又有改动。需要再次执行 `git add` 命令将其添加到缓存中。文件修改后，一般都需要进行 `git add
操作，从而保存历史版本。

### 将文件添加到本地版本库
将暂存区中的文件提交到本地仓库，使用的命令是 `git commit`
```bash
$ git commit -m 'your comments' # 带评论提交, 用于描述此次提交的作用等.
```
如果直接用 `git commit` 提交，需要手动填写评论。

### 查看仓库当前状态
查看仓库当前的状态，显示有变更的文件
```bash
$ git status
$ git status -s # 使用 -s 参数来获得简短的输出结果
```

### 查看仓库文件的修改
```bash
$ git diff
$ git diff hi.java # 查看具体的文件改动
```
测试
```bash
$ git diff
warning: LF will be replaced by CRLF in hi.java.
The file will have its original line endings in your working directory
diff --git a/hi.java b/hi.java
index 9116504..a030fa4 100644
--- a/hi.java
+++ b/hi.java
@@ -1 +1 @@
-fshdjhsdjkfhsj
+改动后

$ git status -s
 M hi.java
```
`git diff` 命令比较文件的不同，即比较文件在暂存区和工作区的差异。`git diff` 命令显示**已写入暂存区**和**已经被修改但尚未写入暂存区**文件的区别。

#### 显示暂存区和工作区的差异
当工作区有改动，暂存区为空，diff比较的是工作区与上一次提交(commit)的共同文件的差异；若工作区有改动，暂存区不为空，diff比较的是工作区与暂存区的共同文件的差异。
```bash
$ git diff [file]
```
#### 显示暂存区和上一次提交(commit)的差异
暂存区和上一次提交(commit)之间的所有不相同文件的增删改。
```bash
$ git diff --cached [file]
或
$ git diff --staged [file]
```
#### 显示工作区和暂存区与上一次提交(commit)的差异
工作区和暂存区与上一次提交(commit)之间的所有不相同文件的增删改。
```bash
$ git diff HEAD
```
#### 显示工作区与指定提交(commit)的差异
```bash
$ git diff HEAD^x
或
$ git diff HEAD~x
或
$ git diff HEAD~x HEAD~y
或
$ git diff HEAD~x HEAD^

--- a/hi.java   (a表示 git diff后的第一个文件，---表示删除)
+++ b/hi.java   (b表示 git diff后的第二个文件，+++表示增加）

```
eg: `git diff HEAD~2 HEAD~0^ 表示比较上次commit与上上次commit之间的差异`，` HEAD^=HEAD^1=HEAD~1`，a 表示 `HEAD~2`，b 表示 `HEAD^`。


#### 显示两次提交之间的差异
```bash
$ git diff [first-branch] [second-branch]
```
测试
```bash
$ git log # 查看提交历史
commit 097f1daab2a8105c1444fa8532e7d2a26da57595 (HEAD -> master)
Author: yuanwu <9527@qq.com>
Date:   Tue Apr 26 16:42:54 2022 +0800

    1

commit 00e023588e74e2e92f3ebfc32ae499dc427bde21
Author: yuanwu <9527@qq.com>
Date:   Tue Apr 26 14:57:27 2022 +0800

    的
    
# 更详细的对比内容    
$ git diff 097f1daab2a8105c1444fa8532e7d2a26da57595 00e023588e74e2e92f3ebfc32ae499dc427bde21
diff --git a/hi.java b/hi.java
deleted file mode 100644
index 9116504..0000000
--- a/hi.java
+++ /dev/null
@@ -1 +0,0 @@
-fshdjhsdjkfhsj

# 简短输出 加上 --stat 即可
$ git diff 097f1daab2a8105c1444fa8532e7d2a26da57595 00e023588e74e2e92f3ebfc32ae499dc427bde21 --stat
 hi.java | 1 -
 1 file changed, 1 deletion(-)
```

## 实操之远程仓库篇
